{
  "version": "6",
  "dialect": "sqlite",
  "id": "5cecec99-b093-451e-acdd-42a8b6020c3e",
  "prevId": "00000000-0000-0000-0000-000000000000",
  "tables": {
    "credentials": {
      "name": "credentials",
      "columns": {
        "hash": {
          "name": "hash",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "organization_id": {
          "name": "organization_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "revocation_list": {
          "name": "revocation_list",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "revocation_index": {
          "name": "revocation_index",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "context": {
          "name": "context",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "issuance_date": {
          "name": "issuance_date",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "expiration_date": {
          "name": "expiration_date",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "raw": {
          "name": "raw",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "issuer_id": {
          "name": "issuer_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "subject_id": {
          "name": "subject_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        }
      },
      "indexes": {
        "credentials_id_unique": {
          "name": "credentials_id_unique",
          "columns": ["id"],
          "isUnique": true
        },
        "credentials_revocation_unique": {
          "name": "credentials_revocation_unique",
          "columns": ["revocation_list", "revocation_index"],
          "isUnique": true
        },
        "credentials_org_idx": {
          "name": "credentials_org_idx",
          "columns": ["organization_id"],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "credentials_issuer_id_identifiers_did_fk": {
          "name": "credentials_issuer_id_identifiers_did_fk",
          "tableFrom": "credentials",
          "tableTo": "identifiers",
          "columnsFrom": ["issuer_id"],
          "columnsTo": ["did"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        },
        "credentials_subject_id_identifiers_did_fk": {
          "name": "credentials_subject_id_identifiers_did_fk",
          "tableFrom": "credentials",
          "tableTo": "identifiers",
          "columnsFrom": ["subject_id"],
          "columnsTo": ["did"],
          "onDelete": "set null",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "encrypted_credentials": {
      "name": "encrypted_credentials",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 1
        },
        "credential_id": {
          "name": "credential_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "cipher_text": {
          "name": "cipher_text",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "iv": {
          "name": "iv",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "tag": {
          "name": "tag",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "key": {
          "name": "key",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "algorithm": {
          "name": "algorithm",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        }
      },
      "indexes": {
        "encrypted_credentials_credential_unique": {
          "name": "encrypted_credentials_credential_unique",
          "columns": ["credential_id"],
          "isUnique": true
        }
      },
      "foreignKeys": {
        "encrypted_credentials_credential_id_credentials_id_fk": {
          "name": "encrypted_credentials_credential_id_credentials_id_fk",
          "tableFrom": "encrypted_credentials",
          "tableTo": "credentials",
          "columnsFrom": ["credential_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "vc_claims": {
      "name": "vc_claims",
      "columns": {
        "hash": {
          "name": "hash",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "issuer_id": {
          "name": "issuer_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "subject_id": {
          "name": "subject_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "credential_id": {
          "name": "credential_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "context": {
          "name": "context",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "credential_type": {
          "name": "credential_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "value": {
          "name": "value",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "is_obj": {
          "name": "is_obj",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        }
      },
      "indexes": {},
      "foreignKeys": {
        "vc_claims_issuer_id_identifiers_did_fk": {
          "name": "vc_claims_issuer_id_identifiers_did_fk",
          "tableFrom": "vc_claims",
          "tableTo": "identifiers",
          "columnsFrom": ["issuer_id"],
          "columnsTo": ["did"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        },
        "vc_claims_subject_id_identifiers_did_fk": {
          "name": "vc_claims_subject_id_identifiers_did_fk",
          "tableFrom": "vc_claims",
          "tableTo": "identifiers",
          "columnsFrom": ["subject_id"],
          "columnsTo": ["did"],
          "onDelete": "set null",
          "onUpdate": "cascade"
        },
        "vc_claims_credential_id_credentials_hash_fk": {
          "name": "vc_claims_credential_id_credentials_hash_fk",
          "tableFrom": "vc_claims",
          "tableTo": "credentials",
          "columnsFrom": ["credential_id"],
          "columnsTo": ["hash"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "crypto_keys": {
      "name": "crypto_keys",
      "columns": {
        "kid": {
          "name": "kid",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "kms": {
          "name": "kms",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "public_key_hex": {
          "name": "public_key_hex",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "private_key_hex": {
          "name": "private_key_hex",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "meta": {
          "name": "meta",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "identifier_did": {
          "name": "identifier_did",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        }
      },
      "indexes": {
        "crypto_keys_identifier_did_idx": {
          "name": "crypto_keys_identifier_did_idx",
          "columns": ["identifier_did"],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "crypto_keys_identifier_did_identifiers_did_fk": {
          "name": "crypto_keys_identifier_did_identifiers_did_fk",
          "tableFrom": "crypto_keys",
          "tableTo": "identifiers",
          "columnsFrom": ["identifier_did"],
          "columnsTo": ["did"],
          "onDelete": "set null",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "identifiers": {
      "name": "identifiers",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "did": {
          "name": "did",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "organization_id": {
          "name": "organization_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "provider": {
          "name": "provider",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "alias": {
          "name": "alias",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "controller_key_id": {
          "name": "controller_key_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "CURRENT_TIMESTAMP"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {
        "identifiers_id_unique": {
          "name": "identifiers_id_unique",
          "columns": ["id"],
          "isUnique": true
        },
        "identifiers_did_unique": {
          "name": "identifiers_did_unique",
          "columns": ["did"],
          "isUnique": true
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "private_keys": {
      "name": "private_keys",
      "columns": {
        "alias": {
          "name": "alias",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "private_key_hex": {
          "name": "private_key_hex",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "services": {
      "name": "services",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "service_endpoint": {
          "name": "service_endpoint",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "identifier_did": {
          "name": "identifier_did",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        }
      },
      "indexes": {
        "services_tenant_idx": {
          "name": "services_tenant_idx",
          "columns": ["tenant_id"],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "services_identifier_did_identifiers_did_fk": {
          "name": "services_identifier_did_identifiers_did_fk",
          "tableFrom": "services",
          "tableTo": "identifiers",
          "columnsFrom": ["identifier_did"],
          "columnsTo": ["did"],
          "onDelete": "set null",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "credential_messages": {
      "name": "credential_messages",
      "columns": {
        "credential_hash": {
          "name": "credential_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "message_id": {
          "name": "message_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "credential_messages_credential_hash_credentials_hash_fk": {
          "name": "credential_messages_credential_hash_credentials_hash_fk",
          "tableFrom": "credential_messages",
          "tableTo": "credentials",
          "columnsFrom": ["credential_hash"],
          "columnsTo": ["hash"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        },
        "credential_messages_message_id_messages_id_fk": {
          "name": "credential_messages_message_id_messages_id_fk",
          "tableFrom": "credential_messages",
          "tableTo": "messages",
          "columnsFrom": ["message_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {
        "credential_messages_credential_hash_message_id_pk": {
          "columns": ["credential_hash", "message_id"],
          "name": "credential_messages_credential_hash_message_id_pk"
        }
      },
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "presentation_credentials": {
      "name": "presentation_credentials",
      "columns": {
        "presentation_hash": {
          "name": "presentation_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "credential_hash": {
          "name": "credential_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "presentation_credentials_presentation_hash_presentations_hash_fk": {
          "name": "presentation_credentials_presentation_hash_presentations_hash_fk",
          "tableFrom": "presentation_credentials",
          "tableTo": "presentations",
          "columnsFrom": ["presentation_hash"],
          "columnsTo": ["hash"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        },
        "presentation_credentials_credential_hash_credentials_hash_fk": {
          "name": "presentation_credentials_credential_hash_credentials_hash_fk",
          "tableFrom": "presentation_credentials",
          "tableTo": "credentials",
          "columnsFrom": ["credential_hash"],
          "columnsTo": ["hash"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {
        "presentation_credentials_presentation_hash_credential_hash_pk": {
          "columns": ["presentation_hash", "credential_hash"],
          "name": "presentation_credentials_presentation_hash_credential_hash_pk"
        }
      },
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "presentation_messages": {
      "name": "presentation_messages",
      "columns": {
        "presentation_hash": {
          "name": "presentation_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "message_id": {
          "name": "message_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "presentation_messages_presentation_hash_presentations_hash_fk": {
          "name": "presentation_messages_presentation_hash_presentations_hash_fk",
          "tableFrom": "presentation_messages",
          "tableTo": "presentations",
          "columnsFrom": ["presentation_hash"],
          "columnsTo": ["hash"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        },
        "presentation_messages_message_id_messages_id_fk": {
          "name": "presentation_messages_message_id_messages_id_fk",
          "tableFrom": "presentation_messages",
          "tableTo": "messages",
          "columnsFrom": ["message_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {
        "presentation_messages_presentation_hash_message_id_pk": {
          "columns": ["presentation_hash", "message_id"],
          "name": "presentation_messages_presentation_hash_message_id_pk"
        }
      },
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "presentation_verifiers": {
      "name": "presentation_verifiers",
      "columns": {
        "presentation_hash": {
          "name": "presentation_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "verifier_did": {
          "name": "verifier_did",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "presentation_verifiers_presentation_hash_presentations_hash_fk": {
          "name": "presentation_verifiers_presentation_hash_presentations_hash_fk",
          "tableFrom": "presentation_verifiers",
          "tableTo": "presentations",
          "columnsFrom": ["presentation_hash"],
          "columnsTo": ["hash"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        },
        "presentation_verifiers_verifier_did_identifiers_did_fk": {
          "name": "presentation_verifiers_verifier_did_identifiers_did_fk",
          "tableFrom": "presentation_verifiers",
          "tableTo": "identifiers",
          "columnsFrom": ["verifier_did"],
          "columnsTo": ["did"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {
        "presentation_verifiers_presentation_hash_verifier_did_pk": {
          "columns": ["presentation_hash", "verifier_did"],
          "name": "presentation_verifiers_presentation_hash_verifier_did_pk"
        }
      },
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "messages": {
      "name": "messages",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "CURRENT_TIMESTAMP"
        },
        "expires_at": {
          "name": "expires_at",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "thread_id": {
          "name": "thread_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "raw": {
          "name": "raw",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "data": {
          "name": "data",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "reply_to": {
          "name": "reply_to",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "reply_url": {
          "name": "reply_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "from_id": {
          "name": "from_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "to_id": {
          "name": "to_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "meta_data": {
          "name": "meta_data",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "return_route": {
          "name": "return_route",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "messages_from_id_identifiers_did_fk": {
          "name": "messages_from_id_identifiers_did_fk",
          "tableFrom": "messages",
          "tableTo": "identifiers",
          "columnsFrom": ["from_id"],
          "columnsTo": ["did"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        },
        "messages_to_id_identifiers_did_fk": {
          "name": "messages_to_id_identifiers_did_fk",
          "tableFrom": "messages",
          "tableTo": "identifiers",
          "columnsFrom": ["to_id"],
          "columnsTo": ["did"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "presentations": {
      "name": "presentations",
      "columns": {
        "hash": {
          "name": "hash",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "raw": {
          "name": "raw",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "holder_id": {
          "name": "holder_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "context": {
          "name": "context",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "issuance_date": {
          "name": "issuance_date",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "expiration_date": {
          "name": "expiration_date",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        }
      },
      "indexes": {
        "presentations_tenant_idx": {
          "name": "presentations_tenant_idx",
          "columns": ["tenant_id"],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "presentations_holder_id_identifiers_did_fk": {
          "name": "presentations_holder_id_identifiers_did_fk",
          "tableFrom": "presentations",
          "tableTo": "identifiers",
          "columnsFrom": ["holder_id"],
          "columnsTo": ["did"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    }
  },
  "views": {},
  "enums": {},
  "_meta": {
    "schemas": {},
    "tables": {},
    "columns": {}
  },
  "internal": {
    "indexes": {}
  }
}
